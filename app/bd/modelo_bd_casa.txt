create database bd_casa_acolhimento;
use bd_casa_acolhimento;




create table if not exists tb_crianca (

    CDCRIANCA SMALLINT auto_increment,
    NMCRIANCA VARCHAR(40) NOT NULL,
    NU_IDADE SMALLINT  NOT NULL,
    NU_CPF VARCHAR(14) NOT NULL,
    DS_SITUACAO VARCHAR(50) NOT NULL,
    DS_SEXO VARCHAR(10) NOT NULL,
    PRIMARY KEY (CDCRIANCA)

);

CREATE TABLE IF NOT EXISTS tb_adocao (
  CDADOCAO SMALLINT(6) NOT NULL,
  DTADOCAO DATE NOT NULL,
  DSADOCAO VARCHAR(50) NOT NULL,
  NMRESPONSAVEL VARCHAR(40) NOT NULL,
  DSENDERECO VARCHAR(50) NOT NULL,
  CDCRIANCA SMALLINT(6) NOT NULL,
  PRIMARY KEY (CDADOCAO),
  CONSTRAINT fk_tb_adocao_CDCRIANCA
    FOREIGN KEY (CDCRIANCA)
    REFERENCES tb_crianca (CDCRIANCA)

);

CREATE TABLE IF NOT EXISTS tb_apadrinhamento (
  CDAPAD SMALLINT(6) NOT NULL,
  DTAPAD DATE NOT NULL,
  DSENDERECO VARCHAR(50) NOT NULL,
  HRDURACAO DATETIME NOT NULL,
  NMRESPONSAVEL VARCHAR(40) NOT NULL,
  CDCRIANCA SMALLINT(6) NOT NULL,
  PRIMARY KEY (CDAPAD),
  CONSTRAINT fk_tb_apadrinhamento_CDCRIANCA
    FOREIGN KEY (CDCRIANCA)
    REFERENCES tb_crianca (CDCRIANCA)

);

CREATE TABLE if not exists tb_educador (
  CDEDUCADOR SMALLINT auto_increment,
  NMEDUCADOR VARCHAR(40) NOT NULL,
  NU_CPF varchar(14) NOT NULL,
  DSEMAIL varchar(40) not null,
  NU_CEL varchar(20) not null,
  VL_SALARIO decimal(10,2) NOT NULL,
  NU_IDADE SMALLINT NOT NULL,
  DSGENERO varchar(15) not null,
  DSTIPO_ATIVIDADE VARCHAR(50) NOT NULL,
  DSENDERECO VARCHAR(50) NOT NULL,
    primary key(CDEDUCADOR)

);

CREATE TABLE IF NOT EXISTS tb_entrada_saida (
  CDETSD SMALLINT(6) NOT NULL,
  DTENTRADA DATE NOT NULL,
  DESCRICAO VARCHAR(50) NOT NULL,
  DTSAIDA DATE NOT NULL,
  CDCRIANCA SMALLINT(6) NOT NULL,
  PRIMARY KEY (CDETSD),
  CONSTRAINT fk_tb_entrada_saida_CDCRIANCA
    FOREIGN KEY (CDCRIANCA)
    REFERENCES tb_crianca (CDCRIANCA)

);

CREATE TABLE IF NOT EXISTS tb_medicamento (
    CDMEDICAMENTO SMALLINT(6) NOT NULL,
    NMMEDICAMENTO VARCHAR(40) NOT NULL,
    QTESTOQUE SMALLINT(6) NOT NULL,
    CDEDUCADOR SMALLINT(6) NOT NULL,
    DTAPLICACAO DATE NOT NULL,
    HRAPLICACAO DATETIME NOT NULL,
    PRIMARY KEY (CDMEDICAMENTO),
    CONSTRAINT fk_tb_medicamento_CDEDUCADOR
        FOREIGN KEY (CDEDUCADOR)
        REFERENCES tb_educador (CDEDUCADOR)
);

CREATE TABLE IF NOT EXISTS tb_toma (
    CDEDUCADOR SMALLINT(6) NOT NULL,
    DTAPLICACAO DATE NOT NULL,
    HRAPLICACAO DATETIME NOT NULL,
    DSDOSE VARCHAR(50) NULL DEFAULT NULL,
    CDCRIANCA SMALLINT(6) NOT NULL,
    
    PRIMARY KEY (CDEDUCADOR),
    CONSTRAINT fk_tb_toma_CDCRIANCA
        FOREIGN KEY (CDCRIANCA)
        REFERENCES tb_crianca (CDCRIANCA),
        
    CONSTRAINT fk_tb_toma_CDEDUCADOR
        FOREIGN KEY (CDEDUCADOR)
        REFERENCES tb_educador (CDEDUCADOR)
        
	

);

CREATE TABLE IF NOT EXISTS tb_refeicao (
    CDREFEICAO SMALLINT(6) NOT NULL,
    NMREFEICAO VARCHAR(30) NOT NULL,
    DTREFEICAO DATE NOT NULL,
    DSREFEICAO VARCHAR(50) NOT NULL,
    CDEDUCADOR SMALLINT(6) NOT NULL,
    PRIMARY KEY (CDREFEICAO),
    CONSTRAINT fk_tb_refeicao_CDEDUCADOR
        FOREIGN KEY (CDEDUCADOR)
        REFERENCES tb_educador (CDEDUCADOR)

);